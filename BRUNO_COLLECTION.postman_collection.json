{
  "info": {
    "name": "SenoPost API - Bruno Collection",
    "_postman_id": "senopost-bruno-collection",
    "description": "Complete collection for SenoPost backend API. Import into Bruno / Postman / Insomnia.\n\nEnvironment variables used: {{base_url}} (e.g. http://localhost:3000/api/v1), {{token}} (JWT Bearer token).",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000/api/v1",
      "type": "string",
      "description": "Base URL for API (include /api/v1) Example: http://localhost:3000/api/v1"
    },
    {
      "key": "token",
      "value": "",
      "type": "string",
      "description": "JWT access token (set after login)"
    }
  ],
  "item": [
    {
      "name": "Health",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}/",
          "host": ["{{base_url}}"],
          "path": ["/"]
        },
        "description": "Simple health check."
      },
      "response": []
    },
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": ["{{base_url}}"],
              "path": ["auth","register"]
            },
            "description": "Register a new user. Returns created user id and email."
          }
        },
        {
          "name": "Login (save token)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const json = pm.response.json();",
                  "if (json.token) {",
                  "  pm.environment.set('token', json.token);",
                  "  console.log('Saved token to environment variable `token`');",
                  "} else if (json.access_token) {",
                  "  pm.environment.set('token', json.access_token);",
                  "  console.log('Saved access_token to environment variable `token`');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\"\n}" },
            "url": { "raw": "{{base_url}}/auth/login", "host": ["{{base_url}}"], "path": ["auth","login"] },
            "description": "Login returns { token, user_id } (or { access_token }). The test script auto-saves token into {{token}}."
          }
        }
      ]
    },
    {
      "name": "Communities",
      "item": [
        {
          "name": "Create Community",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"name\": \"gaming\",\n  \"description\": \"Gaming community\"\n}" },
            "url": { "raw": "{{base_url}}/communities", "host": ["{{base_url}}"], "path": ["communities"] },
            "description": "Create a community (requires Authorization header with Bearer token)."
          }
        },
        {
          "name": "Get Community",
          "request": {
            "method": "GET",
            "header": [],
            "url": { "raw": "{{base_url}}/communities/:id", "host": ["{{base_url}}"], "path": ["communities", ":id"], "query": [] },
            "description": "Get community by id. Replace :id in the URL with actual community id."
          }
        },
        {
          "name": "List Community Posts",
          "request": {
            "method": "GET",
            "header": [],
            "url": { "raw": "{{base_url}}/communities/:id/posts", "host": ["{{base_url}}"], "path": ["communities", ":id", "posts"] },
            "description": "List posts for a community. Replace :id with community id."
          }
        },
        {
          "name": "Update Community",
          "request": {
            "method": "PATCH",
            "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ],
            "body": { "mode": "raw", "raw": "{\n  \"description\": \"Updated description\"\n}" },
            "url": { "raw": "{{base_url}}/communities/:id", "host": ["{{base_url}}"], "path": ["communities", ":id"] },
            "description": "Update community (requires auth)."
          }
        },
        {
          "name": "Delete Community",
          "request": {
            "method": "DELETE",
            "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
            "url": { "raw": "{{base_url}}/communities/:id", "host": ["{{base_url}}"], "path": ["communities", ":id"] },
            "description": "Delete community (requires auth). Returns 204-style response object."
          }
        }
      ]
    },
    {
      "name": "Posts",
      "item": [
        {
          "name": "Create Post",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ],
            "body": { "mode": "raw", "raw": "{\n  \"title\": \"My first post\",\n  \"content\": \"Hello world\"\n}" },
            "url": { "raw": "{{base_url}}/communities/:cid/posts", "host": ["{{base_url}}"], "path": ["communities", ":cid", "posts"] },
            "description": "Create a post inside a community. Replace :cid with community id. Requires auth."
          }
        },
        {
          "name": "Get Post",
          "request": { "method": "GET", "header": [], "url": { "raw": "{{base_url}}/posts/:id", "host": ["{{base_url}}"], "path": ["posts", ":id"] }, "description": "Get a post by id." }
        },
        {
          "name": "List Posts by Community",
          "request": { "method": "GET", "header": [], "url": { "raw": "{{base_url}}/communities/:cid/posts", "host": ["{{base_url}}"], "path": ["communities", ":cid", "posts"] }, "description": "List posts in a community (replace :cid)." }
        },
        {
          "name": "Update Post",
          "request": {
            "method": "PATCH",
            "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ],
            "body": { "mode": "raw", "raw": "{\n  \"title\": \"Updated title\",\n  \"content\": \"Updated content\"\n}" },
            "url": { "raw": "{{base_url}}/posts/:id", "host": ["{{base_url}}"], "path": ["posts", ":id"] },
            "description": "Update a post (requires auth)."
          }
        },
        {
          "name": "Delete Post",
          "request": {
            "method": "DELETE",
            "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
            "url": { "raw": "{{base_url}}/posts/:id", "host": ["{{base_url}}"], "path": ["posts", ":id"] },
            "description": "Delete post (requires auth)."
          }
        }
      ]
    },
    {
      "name": "Comments",
      "item": [
        {
          "name": "Create Comment",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ],
            "body": { "mode": "raw", "raw": "{\n  \"content\": \"Great post!\",\n  \"parentId\": null\n}" },
            "url": { "raw": "{{base_url}}/posts/:pid/comments", "host": ["{{base_url}}"], "path": ["posts", ":pid", "comments"] },
            "description": "Create a comment on a post (replace :pid). Requires auth."
          }
        },
        {
          "name": "List Comments by Post",
          "request": { "method": "GET", "header": [], "url": { "raw": "{{base_url}}/posts/:pid/comments", "host": ["{{base_url}}"], "path": ["posts", ":pid", "comments"] }, "description": "List comments for a post." }
        },
        {
          "name": "Update Comment",
          "request": { "method": "PATCH", "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ], "body": { "mode": "raw", "raw": "{\n  \"content\": \"Updated comment\"\n}" }, "url": { "raw": "{{base_url}}/comments/:id", "host": ["{{base_url}}"], "path": ["comments", ":id"] }, "description": "Update comment (requires auth)." }
        },
        {
          "name": "Delete Comment",
          "request": { "method": "DELETE", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{base_url}}/comments/:id", "host": ["{{base_url}}"], "path": ["comments", ":id"] }, "description": "Delete comment (requires auth)." }
        }
      ]
    },
    {
      "name": "Votes",
      "item": [
        {
          "name": "Vote on Post",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ],
            "body": { "mode": "raw", "raw": "{\n  \"value\": 1\n}" },
            "url": { "raw": "{{base_url}}/posts/:id/votes", "host": ["{{base_url}}"], "path": ["posts", ":id", "votes"] },
            "description": "Vote (value: 1 or -1) on a post. Requires auth."
          }
        },
        {
          "name": "Vote on Comment",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ],
            "body": { "mode": "raw", "raw": "{\n  \"value\": -1\n}" },
            "url": { "raw": "{{base_url}}/comments/:id/votes", "host": ["{{base_url}}"], "path": ["comments", ":id", "votes"] },
            "description": "Vote (value: 1 or -1) on a comment. Requires auth."
          }
        }
      ]
    },
    {
      "name":"Users",
      "item": [
        {
          "name": "Get Me",
          "request": {
            "method": "GET",
            "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
            "url": { "raw": "{{base_url}}/users/me", "host": ["{{base_url}}"], "path": ["users","me"] },
            "description": "Get current authenticated user's profile. Requires Authorization header (Bearer {{token}})."
          }
        },
        {
          "name": "Get User",
          "request": { "method": "GET", "header": [], "url": { "raw": "{{base_url}}/users/:id", "host": ["{{base_url}}"], "path": ["users", ":id"] }, "description": "Get another user's profile by id (public)." }
        },
        {
          "name": "Update /me",
          "request": { "method": "PATCH", "header": [ { "key": "Content-Type", "value": "application/json" }, { "key": "Authorization", "value": "Bearer {{token}}" } ], "body": { "mode": "raw", "raw": "{\n  \"email\": \"changed@example.com\"\n}" }, "url": { "raw": "{{base_url}}/users/me", "host": ["{{base_url}}"], "path": ["users","me"] }, "description": "Update current user's profile (change your own email/password). Requires Authorization." }
        },
        {
          "name": "Delete /me",
          "request": { "method": "DELETE", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{base_url}}/users/me", "host": ["{{base_url}}"], "path": ["users","me"] }, "description": "Delete current authenticated user's account. Requires Authorization." }
        }
      ]
    }
  ]
}
 